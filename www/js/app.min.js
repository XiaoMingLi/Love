angular.module("Love",["ngRoute","LocalStorageModule","flow"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,t,o,n,r){angular.forEach(r.interceptor,function(t){var o=t.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});o+="Controller",e.when("/"+t,{templateUrl:"templates/"+t+".html",reloadOnSearch:!1,controller:o,resolve:{user:["$q","$location","localStorageService",function(e,o,n){var r=[],s=e.defer();return r.includes(t)&&!n.get("token")?(s.reject(),o.path("/signin").replace(),void 0):(s.resolve(),s.promise)}]}})}),e.otherwise("/ta"),t.defaults.useXDomain=!0,t.defaults.withCredentials=!0,delete t.defaults.headers.common["X-Requested-With"],n.setStorageCookie(.02),t.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Love").factory("weixinServices",["$http","$route","$timeout","$rootScope","$location","toastServices","$window","localStorageService","config",function(e,t,o,n,r,s,i,a,u){function c(e,t,o,n){wx.onMenuShareTimeline({title:e||u.share.title,link:t||u.share.link,imgUrl:o||u.share.thumbnail,trigger:function(){},success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:e||u.share.title,desc:n||u.share.desc,link:t||u.share.link,imgUrl:o||u.share.thumbnail,type:"link",dataUrl:"",success:function(){},cancel:function(){}}),wx.onMenuShareQQ({title:e||u.share.title,desc:n||u.share.desc,link:t||u.share.link,imgUrl:o||u.share.thumbnail,success:function(){},cancel:function(){}}),wx.onMenuShareWeibo({title:e||u.share.title,desc:n||u.share.desc,link:t||u.share.link,imgUrl:o||u.share.thumbnail,success:function(){},cancel:function(){}}),wx.onMenuShareQZone({title:e||u.share.title,desc:n||u.share.desc,link:t||u.share.link,imgUrl:o||u.share.thumbnail,success:function(){},cancel:function(){}})}{var l=r.absUrl().split("#")[0];e({url:u.url+"/app/WeixinCommon/getSignature",method:"GET",params:angular.extend({},u.common_params,{current_url:l})}).then(function(e){var t=e.data;t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS&&wx.config({debug:!0,appId:u.weixin.appid,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone","chooseWXPay"]})})}return wx.ready(function(){c()}),wx.error(function(){}),{initWeixinShareEvent:function(e,t,o,n){c(e,t,o,n)},login:function(){var e=u.weixin.base_url+"?appid="+u.weixin.appid+"&redirect_uri="+encodeURIComponent(u.weixin.redirect_uri)+"&response_type="+u.weixin.response_type+"&scope="+u.weixin.scope+"&state="+u.weixin.state+u.weixin.wechat_redirect;i.location.href=e},prepare_pay:function(e){var t=u.weixin.base_url+"?appid="+u.weixin.appid+"&redirect_uri="+encodeURIComponent(u.weixin.payment_redirect_uri)+"&response_type="+u.weixin.response_type+"&scope="+u.weixin.silence_scope+"&state="+JSON.stringify(e)+u.weixin.wechat_redirect;i.location.href=t},pay:function(e){s.show(),wx.chooseWXPay({timestamp:e.timestamp,nonceStr:e.nonceStr,"package":e.package_web,signType:e.signType,paySign:e.paySign,success:function(){s.hide(),o(function(){r.path("ta").replace()},1e3)},cancel:function(){s.hide(),o(function(){r.path("ta").replace()},1e3)},fail:function(){s.hide(),o(function(){r.path("ta").replace()},1e3)}})}}}]),angular.module("Love").factory("userServices",["$rootScope","$http","apiServices","localStorageService","config",function(e,t,o,n,r){return{rsa_key:o._get(angular.extend({},r.common_params,{url:"key/private_key.pem"})),signin:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/Login"})),signup:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/RegistTel"})),forget:o._get(angular.extend({},r.common_params,{url:r.url+"/api_url"})),reset:o._get(angular.extend({},r.common_params,{url:r.url+"/api_url"})),get_smscode:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/getRegisterCode"})),query_basicinfo:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/baseInfo",token:n.get("token")})),query_userinfo:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/userInfo",token:n.get("token")})),save_userinfo_1:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserModifyManage/updateInfo01",token:n.get("token")})),save_userinfo_2:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserModifyManage/updateInfo02",token:n.get("token")})),save_userinfo_3:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/updateChooseMate",token:n.get("token")})),save:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/interestTalentInfo",token:n.get("token")})),realname_authen:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/updateRealNameAuth",token:n.get("token")})),phone_authen:o._get(angular.extend({},r.common_params,{url:r.url+"/app/UserCenter/updateTelephoneAuth",token:n.get("token")})),like:o._get(angular.extend({},r.common_params,{url:r.url+"/app/Home/addLove",token:n.get("token")})),unlike:o._get(angular.extend({},r.common_params,{url:r.url+"/app/Home/deleteLove",token:n.get("token")})),yue_ta:o._get(angular.extend({},r.common_params,{url:r.url+"/app/TrystManage/addTryst",token:n.get("token")})),query_messages:o._get(angular.extend({},r.common_params,{url:r.url+"/app/ChatManage/collectMsgList",token:n.get("token")})),query_send_messages:o._get(angular.extend({},r.common_params,{url:r.url+"/app/ChatManage/sendOutList",token:n.get("token")})),query_message_by_id:o._get(angular.extend({},r.common_params,{url:r.url+"/app/ChatManage/chatMessageList",token:n.get("token")})),send:o._get(angular.extend({},r.common_params,{url:r.url+"/app/ChatManage/sendContent",token:n.get("token")})),block:o._get(angular.extend({},r.common_params,{url:r.url+"/app/ChatManage/setShield",token:n.get("token")})),charge:o._get(angular.extend({},r.common_params,{url:r.url+"/app/Pays/payVip",token:n.get("token")})),query_visitors:o._get(angular.extend({},r.common_params,{url:r.url+"/api_url",token:n.get("token")})),query_lovers:o._get(angular.extend({},r.common_params,{url:r.url+"/app/LoveManage/loveEachOtherList",token:n.get("token")})),query_meetting:o._get(angular.extend({},r.common_params,{url:r.url+"/app/TrystManage/trystMeList",token:n.get("token")})),query_report_info:o._get(angular.extend({},r.common_params,{url:r.url+"/app/TrystManage/constant",token:n.get("token")})),report:o._get(angular.extend({},r.common_params,{url:r.url+"/app/TrystManage/complaintTryst",token:n.get("token")})),agree_meetting:o._get(angular.extend({},r.common_params,{url:r.url+"/app/TrystManage/agreeTryst",token:n.get("token")})),reject_meetting:o._get(angular.extend({},r.common_params,{url:r.url+"/app/TrystManage/refuseTryst",token:n.get("token")}))}}]),angular.module("Love").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,t,o,n,r){return{request:function(e){return e},requestError:function(){},response:function(n){var s=t.defer();return n.config.url.indexOf(".html")>0?n:n.data.code==r.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),o.remove("token"),e.path("/signin").replace(),s.promise):n},responseError:function(e){var o=t.defer();return n.requestError(e.data,e.status,e.headers,e.config),o.promise}}}]),angular.module("Love").factory("toastServices",function(){return{show:function(){$(".toast").show()},hide:function(){$(".toast").hide()},start:function(){NProgress.start()},done:function(){NProgress.done()}}}),angular.module("Love").factory("loveServices",["$http","apiServices","localStorageService","config",function(e,t,o,n){return{query_loves:t._get(angular.extend({},n.common_params,{url:n.url+"/app/Home/taList"})),query_love_by_id:t._get(angular.extend({},n.common_params,{url:n.url+"/api_url"})),query_province:t._get(angular.extend({},n.common_params,{url:"city/province.json"})),query_city:t._get(angular.extend({},n.common_params,{url:"city/city.json"})),query_tags:t._get(angular.extend({},n.common_params,{url:n.url+"/app/UserCenter/interestTalentInfo"})),query_tags:t._get(angular.extend({},n.common_params,{url:n.url+"/app/UserCenter/interestTalentInfo"})),query_vips:t._get(angular.extend({},n.common_params,{url:n.url+"/app/Pays/vipPrices"}))}}]),angular.module("Love").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,t,o){return{show:function(t){e.error_msg=t,$(".error-msg").show()},hide:function(){e.error_msg="",$(".error-msg").hide()},autoHide:function(o){e.error_msg=o,$(".error-msg").show(),t(function(){e.error_msg="",$(".error-msg").hide()},3e3)},requestError:function(e,t,n,r){switch(o.hide(),t){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(t),console.log(e),console.log(n),console.log(r),console.log("onRequestError end")}}}]),angular.module("Love").directive("errSrc",function(){return{restrict:"A",link:function(e,t,o){$(t).bind("error",function(){$(t).attr("src",o.errSrc)})}}}),angular.module("Love").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices","config",function(e,t,o,n,r,s){var i=function(){},a=function(e,t,o){r.hide(),n.hide(),c(e,t,o)},u=function(){},c=function(){};return{init:function(){e.$on("$routeChangeStart",i),e.$on("$routeChangeSuccess",a),e.$on("$routeChangeError",u),e.go=function(e){o.path(e)},e.back=function(){t.history.back()},e.staticImageUrl=s.imageUrl}}}]),angular.module("Love").factory("apiServices",["$http","localStorageService",function(e,t){return{_get:function(o){return function(n){return void 0!==o.token&&(o.token=t.get("token")),e({url:o.url,method:"GET",params:angular.extend({},o,n)}).then(function(e){return e.data})}},_post:function(o){return function(n){return void 0!==o.token&&(o.token=t.get("token")),e({url:o.url,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},data:angular.extend({},o,n)}).then(function(e){return e.data})}}}}]),angular.module("Love").controller("withdrawalsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("visitorsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("visitorsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("tagsController",["$scope","$rootScope","$routeParams","$timeout","userServices","loveServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a,u,c){e.select=function(e){e.select=!e.select},o.type||t.back(),a.show(),s.query_tags({type:o.type}).then(function(t){a.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.tags=t.Result.InterestTalentInfos,e.tags.map(function(e){return e.name=e.field_name,e.select=!1,e})):i.autoHide(t.message)}),e.save=function(){var s={},u=e.tags.filter(function(e){return e.select}).map(function(e){return e.name}).join("#");"1"==o.type&&(s.taste=u),"2"==o.type&&(s.talent_skill=u),a.show(),r.save_userinfo_1(s).then(function(e){a.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(i.autoHide(e.message),n(function(){t.back()},2e3)):i.autoHide(e.message)})}}]),angular.module("Love").controller("taController",["$scope","loveServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){e.modal={status:0},e.open_modal=function(){e.modal.status=1},e.cancel_modal=function(){e.modal.status=0},e.loves=[],e.page={pn:1,page_size:5,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_loves(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.loves=e.loves.concat(t.Result.Users.list),e.no_more=e.loves.length==t.Result.Users.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.loves.length+"条记录"),e.page.pn++}))},e.loadMore(),e.get_tag=function(e){return e.split("#")}}]),angular.module("Love").controller("singleController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("signupController",["$scope","$rootScope","$routeParams","$location","$timeout","$location","userServices","loveServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,n,s,i,a,u,c,l){e.step=1,e.input={},e.show_step=function(t){e.step=t},e.modal={status:0},e.open_modal=function(){e.modal.status=1},e.cancel_modal=function(){e.modal.status=0},e.countdown={message:"获取验证码"},e.countdown.callback=function(){u.show(),s.get_smscode({telephone:e.input.telephone}).then(function(t){u.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?a.autoHide(t.message):(e.countdown.reset=!0,a.autoHide(t.message))})},e.$on("upload_success",function(t,o){e.input.filename=o.message}),e.input.gender=1,e.select_gender=function(t){e.input.gender=t},i.query_province().then(function(t){e.provinces=t.province,e.input.province=e.provinces[0]}),e.$watch("input.province",function(t){void 0!==t&&e.query_city(t)}),e.query_city=function(t){i.query_city().then(function(o){e.cities=o[t],e.input.city=e.cities[0]})};for(var p=145,g=[],_=0;60>_;_++)p++,g.push(p+"cm");e.heights=g,e.input.height=e.heights[0],e.input.ages="20-22岁",e.input.degree="初中以上",e.input.marry="未婚",e.input.income="5000元以下",e.ajaxForm=function(){u.show(),s.rsa_key().then(function(t){var o=new JSEncrypt,n=t;o.setPrivateKey(n);var r=o.encrypt(e.input.password);e.input.password=r}).then(function(){s.signup({fileName:e.input.filename,telephone:e.input.telephone,password:e.input.password,tel_code:e.input.sms_code,sex:e.input.gender,nickname:e.input.nickname,province:e.input.province,city:e.input.city,height:e.input.height,edu:e.input.degree,marry:e.input.marry,income:e.input.income,recommend_code:e.input.referee,uid:o.uid}).then(function(t){u.hide(),t.code==l.request.SUCCESS&&t.status==l.response.SUCCESS?(a.autoHide(t.message),e.input.password="",c.set("token",t.token),r(function(){n.path("ta").search("uid",null).replace()},2e3)):a.autoHide(t.message)})})}}]),angular.module("Love").controller("uploadController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){var i,a;e.$on("flow::filesSubmitted",function(e,t){t.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return a=e,e}),i=(new Date).getTime()+a,t.opts.target=s.url+"/app/UserCenter/updatePic",t.opts.testChunks=!1,t.opts.fileParameterName="image_01",t.opts.query={invoke:"h5",filename:i},n.show(),t.upload()}),e.$on("flow::fileAdded",function(){}),e.$on("flow::fileSuccess",function(){e.$flow.files=[],e.$emit("upload_success",{message:i}),n.hide()})}]),angular.module("Love").controller("signinController",["$scope","$routeParams","$timeout","$location","weixinServices","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a,u,c){e.uid=t.uid,e.input={telephone:"",password:""},e.clear=function(){e.input.password=""},e.ajaxForm=function(){a.show(),s.rsa_key().then(function(t){var o=new JSEncrypt,n=t;o.setPrivateKey(n);var r=o.encrypt(e.input.password);e.input.password=r}).then(function(){s.signin({telephone:e.input.telephone,password:e.input.password,uid:t.uid}).then(function(t){a.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(i.autoHide(t.message),e.input.password="",u.set("token",t.token),o(function(){n.path("ta").search("uid",null).replace()},2e3)):(e.input.password="",i.autoHide(t.message))})})},e.weixinLogin=function(){r.login()}}]),angular.module("Love").controller("showController",["$scope","$rootScope","$timeout","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a,u){e.input={},i.show(),r.query_userinfo().then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?e.input.user_show=t.Result.UserInfo.heart:s.autoHide(t.message)}),e.ajaxForm=function(){i.show(),r.save_userinfo_1({heart:e.input.user_show}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?o(function(){t.back()},2e3):s.autoHide(e.message)})}}]),angular.module("Love").controller("servicesController",["$scope","errorServices","toastServices","localStorageService","config",function(e){console.log("dd"),e.step=1,e.show_step=function(t){e.step=t}}]),angular.module("Love").controller("sendMessagesController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){e.messages=[],e.page={pn:1,page_size:5,message:"点击加载更多"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_send_messages(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.messages=e.messages.concat(t.Result.ChatUsers.list),e.no_more=e.messages.length==t.Result.ChatUsers.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.messages.length+"条记录"),e.page.pn++}))},e.loadMore()}]),angular.module("Love").controller("searchController",["$scope","$routeParams","loveServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i){e.loves=[],e.page={pn:1,page_size:5,message:"点击加载更多",heights:t.heights,ages:t.ages,incomes:t.incomes,edus:t.edus,merrys:t.merrys},e.get_tag=function(e){return e.split("#")},e.loadMore=function(){e.no_more||(r.show(),e.page.message="正在加载...",o.query_loves(e.page).then(function(t){r.hide(),e.page.message="点击加载更多",t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?(e.loves=e.loves.concat(t.Result.Users.list),e.no_more=e.loves.length==t.Result.Users.totalRow?!0:!1):n.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.loves.length+"条记录"),e.page.pn++}))},e.loadMore()}]),angular.module("Love").controller("searchConditionalController",["$scope","$rootScope","$location","$timeout","userServices","loveServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){e.input={},s.query_province().then(function(t){e.provinces=t.province,e.input.province=e.provinces[0]}),e.$watch("input.province",function(t){void 0!==t&&e.query_city(t)}),e.query_city=function(t){s.query_city().then(function(o){e.cities=o[t],e.input.city=e.cities[0]})};for(var i=145,a=[],u=0;60>u;u++)i++,a.push(i+"cm");e.heights=a,e.input.height=e.heights[0],e.input.age="20-22岁",e.input.degree="初中以上",e.input.marry="未婚",e.input.income="5000元以下",e.search=function(){o.path("search").search({heights:e.input.height,ages:e.input.age,incomes:e.input.income,marrys:e.input.marry,edus:e.input.degree}).replace()}}]),angular.module("Love").controller("recommendationController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("realnameAuthenController",["$scope","$rootScope","userServices","$timeout","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a){e.input={},e.ajaxForm=function(){s.show(),o.realname_authen({realname:e.input.realname,ID_num:e.input.id,ID_front_image:e.input.front,ID_back_image:e.input.back}).then(function(e){s.hide(),e.code==a.request.SUCCESS&&e.status==a.response.SUCCESS?(r.autoHide(e.message),$timout(function(){t.back()},2e3)):r.autoHide(e.message)})},e.$on("upload_front_success",function(t,o){e.input.front=o.message}),e.$on("upload_back_success",function(t,o){e.input.back=o.message})}]),angular.module("Love").controller("uploadFrontController",["$scope","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r){var s,i;e.$on("flow::filesSubmitted",function(e,t){t.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return i=e,e}),s=(new Date).getTime()+i,t.opts.target=r.url+"/app/UserCenter/updatePic",t.opts.testChunks=!1,t.opts.fileParameterName="image_01",t.opts.query={invoke:"h5",token:n.get("token"),filename:s},o.show(),t.upload()}),e.$on("flow::fileAdded",function(){}),e.$on("flow::fileSuccess",function(){e.$flow.files=[],e.$emit("upload_front_success",{message:s}),o.hide()})}]),angular.module("Love").controller("uploadBackController",["$scope","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r){var s,i;e.$on("flow::filesSubmitted",function(e,t){t.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return i=e,e}),s=(new Date).getTime()+i,t.opts.target=r.url+"/app/UserCenter/updatePic",t.opts.testChunks=!1,t.opts.fileParameterName="image_01",t.opts.query={invoke:"h5",token:n.get("token"),filename:s},o.show(),t.upload()}),e.$on("flow::fileAdded",function(){}),e.$on("flow::fileSuccess",function(){e.$flow.files=[],e.$emit("upload_back_success",{message:s}),o.hide()})}]),angular.module("Love").controller("phoneAuthenController",["$scope","$timeout","$rootScope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a){e.input={},e.ajaxForm=function(){s.show(),n.phone_authen({telephone:e.input.telephone,tel_code:e.input.smscode}).then(function(e){s.hide(),e.code==a.request.SUCCESS&&e.status==a.response.SUCCESS?(r.autoHide(e.message),t(function(){o.back()},2e3)):r.autoHide(e.message)})},e.countdown={message:"获取验证码"},e.countdown.callback=function(){s.show(),n.get_smscode({telephone:e.input.telephone}).then(function(t){s.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?r.autoHide(t.message):(e.countdown.reset=!0,r.autoHide(t.message))})},e.modal={status:0},e.open_modal=function(){e.modal.status=3},e.cancel_modal=function(){e.modal.status=0},e.confirm_modal=function(){e.modal.status=0}}]),angular.module("Love").controller("paymentController",["$scope","$rootScope","$routeParams","$location","$timeout","weixinServices","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a,u,c,l){e.input={money:o.money,pay_type:"2",type:o.type||""},e.active=function(t){e.input.pay_type=t},e.pay=function(){var t={pay_type:e.input.pay_type,vip_price_id:JSON.parse(o.state||"{}").id||o.id,trysted_user_id:JSON.parse(o.state||"{}").id||o.id,code:o.code};"charge"==o.type&&"1"==e.input.pay_type&&e.charge_by_balance(t),"charge"==o.type&&"2"==e.input.pay_type&&e.charge_by_weixin(t),"charge"!=o.type&&"1"==e.input.pay_type&&e.yue_by_balance(t),"charge"!=o.type&&"2"==e.input.pay_type&&e.yue_by_weixin(t)},e.charge_by_weixin=function(e){u.show(),i.charge(e).then(function(e){u.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?s.pay(e):a.autoHide(e.message)})},e.charge_by_balance=function(e){u.show(),i.charge(e).then(function(e){u.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(a.autoHide(e.message),r(function(){n.path("ta").replace()},2e3)):a.autoHide(e.message)})},e.yue_by_weixin=function(e){u.show(),i.yue_ta(e).then(function(e){u.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?s.pay(e):a.autoHide(e.message)})},e.yue_by_balance=function(e){u.show(),i.yue_ta(e).then(function(e){u.hide(),e.code==l.request.SUCCESS&&e.status==l.response.SUCCESS?(a.autoHide(e.message),r(function(){n.path("ta").replace()},2e3)):a.autoHide(e.message)})}}]),angular.module("Love").controller("oauthController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("myloveController",["$scope","$location","$routeParams","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a){e.loves=[],e.page={pn:1,page_size:5,message:"点击加载更多",love_type:o.type},e.loadMore=function(){e.no_more||(s.show(),e.page.message="正在加载...",n.query_lovers(e.page).then(function(t){s.hide(),e.page.message="点击加载更多",t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(e.loves=e.loves.concat(t.Result.LoveEachOthers.list),e.no_more=e.loves.length==t.Result.LoveEachOthers.totalRow?!0:!1):r.autoHide("服务器错误"),e.no_more&&(e.page.message="没有喜欢的人/喜欢你的人"),e.page.pn++}))},e.loadMore(),e.local_go=function(e,o){o.preventDefault(),o.stopPropagation(),t.path("detail").search({id:e.loved_user_id})},e.unlike=function(e,t){t.preventDefault(),t.stopPropagation(),s.show(),n.unlike({id:e.loved_user_id}).then(function(e){s.hide(),e.code==a.request.SUCCESS&&e.status==a.response.SUCCESS?r.autoHide(e.message):r.autoHide(e.message)})}}]),angular.module("Love").controller("messagesController",["$scope","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i){e.news=[],e.page={pn:1,page_size:5,message:"点击加载更多"},e.loadMore=function(){e.no_more||(r.show(),e.page.message="正在加载...",o.query_messages(e.page).then(function(t){r.hide(),e.page.message="点击加载更多",t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?(e.news=e.news.concat(t.Result.CollectUsers.list),e.no_more=e.news.length==t.Result.CollectUsers.totalRow?!0:!1):n.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.news.length+"条记录"),e.page.pn++}))},e.loadMore(),o.query_basicinfo().then(function(t){t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?e.user=t.Result.BaseInfo:n.autoHide(t.message)}),e.modal={},e.go=function(o){"1"==e.user.is_vip?t.path("chat").search({id:o}):e.modal.status=1},e.confirm_modal=function(){t.path("charge").search({})},e.cancel_modal=function(){e.modal.status=0}}]),angular.module("Love").controller("messageController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("memberController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("member2Controller",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("member1Controller",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("meController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){e.modal={status:0},e.open_modal=function(){e.modal.status=1},e.cancel_modal=function(){e.modal.status=0},e.confirm_modal=function(){e.modal.status=0},n.show(),t.query_basicinfo().then(function(t){n.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.user=t.Result.BaseInfo:o.autoHide(t.message)}),e.get_images=function(e){return e?e.split("#"):[]}}]),angular.module("Love").controller("matingController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("manualAuthenController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){n.show(),t.query_report_info().then(function(t){n.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.report_info=t.Result.Constant:o.autoHide(t.message)})}]),angular.module("Love").controller("loversController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("indexController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("expressController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("detailController",["$scope","$routeParams","$timeout","$location","weixinServices","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a,u,c){e.input={},a.show(),s.query_userinfo({type:"2",ta_user_id:t.id}).then(function(t){a.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.user=t.Result.UserInfo,e.input.covers=e.user.image_other.split("#").filter(function(e){return""!=e}),e.input.avatar=e.user.image_01,e.input.heart=e.user.heart,e.input.gender=e.genders[e.user.sex],e.input.height=e.user.height,e.input.income=e.user.income,e.input.province=e.user.province,o(function(){e.input.city=e.user.city},2e3),e.input.degree=e.user.edu,e.input.marry=e.user.marry,e.input.child=e.user.child,e.input.is_buy_house=e.user.is_buy_house,e.input.house=e.user.buy_house,e.input.is_buy_car=e.user.is_buy_car,e.input.job=e.user.job,e.input.age_1=e.user.UserOther.choose_mate_age,e.input.height_1=e.user.UserOther.choose_mate_height,e.input.income_1=e.user.UserOther.choose_mate_income,e.input.province_1=e.user.UserOther.choose_mate_province,e.input.city_1=e.user.UserOther.choose_mate_city,e.input.degree_1=e.user.UserOther.choose_mate_edu,e.input.marry_1=e.user.UserOther.choose_mate_marry,e.input.child_1=e.user.UserOther.choose_mate_has_child,e.input.house_1=e.user.UserOther.choose_mate_has_house,e.input.car_1=e.user.UserOther.choose_mate_has_car,e.input.province_2=e.user.UserOther.dossier_province,e.input.city_2=e.user.UserOther.dossier_city,e.input.nation=e.user.UserOther.dossier_nation,e.input.shuxiang=e.user.UserOther.dossier_shuxiang,e.input.xinzuo=e.user.UserOther.dossier_xinzuo,e.input.blood=e.user.UserOther.dossier_xuexing,e.input.body=e.user.UserOther.dossier_tixing,e.input.weight=e.user.UserOther.dossier_tizhong,e.input.score=e.user.UserOther.dossier_xiangmao_zp,e.input.region=e.user.UserOther.dossier_region,e.input.smoke=e.user.UserOther.dossier_smoke,e.input.drink=e.user.UserOther.dossier_drink,e.input.school=e.user.UserOther.edu_job_school,e.input.major=e.user.UserOther.edu_job_profession,e.input.position=e.user.UserOther.edu_job_zhiwu,e.input.company_nature=e.user.UserOther.edu_job_nature_company,e.input.work_status=e.user.UserOther.edu_job_work_status,e.input.language=e.user.UserOther.edu_job_master_language,e.input.about_money=e.user.UserOther.attitude_money,e.input.about_love=e.user.UserOther.attitude_shiye_love,e.input.about_sex=e.user.UserOther.attitude_sex,e.input.marry_plan=e.user.UserOther.love_marry_plan,e.input.housework=e.user.UserOther.love_home_work,e.input.babys=e.user.UserOther.love_want_child,e.input.live_with_parent=e.user.UserOther.love_want_fw_zhu,e.input.couple=e.user.UserOther.love_spouse_pattern,e.input.alone_with=e.user.UserOther.love_live_pattern,e.input.yearing=e.user.UserOther.life_xiangwang_thing,e.input.like_book=e.user.UserOther.life_love_book,e.input.like_film=e.user.UserOther.life_love_movie,e.input.focus_topic=e.user.UserOther.life_guanzhu_theme,e.input.proud=e.user.UserOther.life_proud_thing,e.input.cooking=e.user.UserOther.life_cooking,e.input.had_been=e.user.UserOther.life_go_space,e.input.work_place=e.user.UserOther.life_circle_work_place,e.input.life_place=e.user.UserOther.life_circle_life_place):i.autoHide(t.message)}),a.show(),s.query_report_info().then(function(t){a.hide(),t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.report_info=t.Result.Constant:i.autoHide(t.message)}),e.get_images=function(e){return e?e.split("#"):[]},e.get_tags=function(e){return e?e.split("#"):void 0},e.genders=["女","男"],e.like=function(){a.show(),s.like({ta_user_id:t.id}).then(function(e){a.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?i.autoHide(e.message):i.autoHide(e.message)})},e.modal={status:0},e.open_modal=function(){return"1"==e.user.is_chat?(n.path("chat").search(id,e.user.user_id),void 0):("1"!=e.user.is_chat&&(e.modal.status=1),void 0)},e.cancel_modal=function(){e.modal.status=0},e.confirm_modal=function(){e.modal.status=0,r.prepare_pay({id:t.id,money:e.report_info.bond_money})}}]),angular.module("Love").controller("createAppointmentController",["$scope","errorServices","toastServices","localStorageService","config",function(e){console.log("dd"),e.step=1,e.show_step=function(t){e.step=t
}}]),angular.module("Love").controller("chatController",["$scope","$routeParams","$timeout","$rootScope","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a,u,c){e.input={},e.chats=[],e.page={pn:1,page_size:500,message:"点击加载更多",receive_user_id:t.id},e.loadMore=function(){e.no_more||(a.show(),e.page.message="正在加载...",s.query_message_by_id(e.page).then(function(t){a.hide(),e.page.message="点击加载更多",t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?(e.chats=e.chats.concat(t.Result.ChatMessages.list),e.no_more=e.chats.length==t.Result.ChatMessages.totalRow?!0:!1):i.autoHide("服务器错误"),e.no_more&&(e.page.message="没有了"),e.page.pn++}))},e.loadMore(),s.query_basicinfo().then(function(t){t.code==c.request.SUCCESS&&t.status==c.response.SUCCESS?e.user=t.Result.BaseInfo:i.autoHide(t.message)}),e.send=function(){a.show(),s.send({receive_user_id:t.id,content:e.input.content}).then(function(o){a.hide(),o.code==c.request.SUCCESS&&o.status==c.response.SUCCESS?(e.chats.push({is_read:"",receive_nickname:"",current_image_01:e.user.image_01,receive_image_01:"4131734_110157044032_22.jpg",user_id:e.user.user_id,send_receive_time:"2016-02-29 13:51:00.0",chat_message_id:e.user.user_id,receive_user_id:t.id,content:e.input.content,post_time:"2016-02-29 13:51:00",current_nickname:"小明",is_me_send:"1"}),e.input.content=""):i.autoHide(o.message)})},e.block={},e.go=function(){e.block.status=1},e.block_model=function(e){a.show(),s.block({ta_user_id:t.id,black_type:e}).then(function(e){a.hide(),e.code==c.request.SUCCESS&&e.status==c.response.SUCCESS?(i.autoHide(e.message),n.back()):(i.autoHide(e.message),r.path("chat").search())})}}]),angular.module("Love").controller("chargeController",["$scope","$routeParams","userServices","loveServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a){s.show(),n.query_vips().then(function(t){s.hide(),t.code==a.request.SUCCESS&&t.status==a.response.SUCCESS?(e.vips=t.Result.VipPrices,e.input.vip=e.vips[0]):r.autoHide(t.message)}),e.step=1,e.input={},e.show_step=function(t){e.step=t},e.change_vips=function(t){e.input.vip=t}}]),angular.module("Love").controller("basicController",["$scope","$filter","$timeout","userServices","loveServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i,a,u){e.input={},i.show(),n.query_userinfo({type:"1"}).then(function(t){i.hide(),t.code==u.request.SUCCESS&&t.status==u.response.SUCCESS?(e.user=t.Result.UserInfo,e.input.birthday=e.user.birthday?new Date(e.user.birthday):new Date,e.input.covers=e.user.image_other.split("#").filter(function(e){return""!=e}),e.input.avatar=e.user.image_01,e.input.heart=e.user.heart,e.input.nickname=e.user.nickname,e.input.gender=e.genders[e.user.sex],e.input.height=e.user.height,e.input.income=e.user.income,e.input.province=e.user.province,o(function(){e.input.city=e.user.city,e.input.city_1=e.user.UserOther.choose_mate_city,e.input.city_2=e.user.UserOther.dossier_hometown_city},2e3),e.input.degree=e.user.edu,e.input.marry=e.user.marry,e.input.child=e.user.is_has_child,e.input.is_buy_house=e.user.is_buy_house,e.input.house=e.user.buy_house,e.input.car=e.user.buy_car,e.input.is_buy_car=e.user.is_buy_car,e.input.job=e.user.job,e.input.age_1=e.user.UserOther.choose_mate_age,e.input.height_1=e.user.UserOther.choose_mate_heart,e.input.income_1=e.user.UserOther.choose_mate_income,e.input.province_1=e.user.UserOther.choose_mate_province,e.input.degree_1=e.user.UserOther.choose_mate_edu,e.input.marry_1=e.user.UserOther.choose_mate_marry,e.input.child_1=e.user.UserOther.choose_mate_has_child,e.input.house_1=e.user.UserOther.choose_mate_has_house,e.input.car_1=e.user.UserOther.choose_mate_has_car,e.input.province_2=e.user.UserOther.dossier_hometown_province,e.input.nation=e.user.UserOther.dossier_nation,e.input.shuxiang=e.user.UserOther.dossier_shuxiang,e.input.xinzuo=e.user.UserOther.dossier_xinzuo,e.input.blood=e.user.UserOther.dossier_xuexing,e.input.body=e.user.UserOther.dossier_tixing,e.input.weight=e.user.UserOther.dossier_tizhong,e.input.score=e.user.UserOther.dossier_xiangmao_zp,e.input.region=e.user.UserOther.dossier_xiangmao_religion,e.input.smoke=e.user.UserOther.dossier_smoke,e.input.drink=e.user.UserOther.dossier_drink,e.input.school=e.user.UserOther.edu_job_school,e.input.major=e.user.UserOther.edu_job_profession,e.input.position=e.user.UserOther.edu_job_zhiye_zhiwu,e.input.company_nature=e.user.UserOther.edu_job_nature_company,e.input.industry=e.user.UserOther.edu_job_company_hangye,e.input.work_status=e.user.UserOther.edu_job_work_status,e.input.language=e.user.UserOther.edu_job_master_language,e.input.about_money=e.user.UserOther.attitude_money,e.input.about_love=e.user.UserOther.attitude_shiye_love,e.input.about_sex=e.user.UserOther.attitude_sex,e.input.marry_plan=e.user.UserOther.love_marry_plan,e.input.housework=e.user.UserOther.love_home_work,e.input.baby=e.user.UserOther.love_want_child,e.input.live_with_parent=e.user.UserOther.love_want_fw_zhu,e.input.couple=e.user.UserOther.love_spouse_pattern,e.input.alone_with=e.user.UserOther.love_live_pattern,e.input.yearing=e.user.UserOther.life_xiangwang_thing,e.input.like_book=e.user.UserOther.life_love_book,e.input.like_film=e.user.UserOther.life_love_movie,e.input.like_music=e.user.UserOther.life_love_music,e.input.focus_topic=e.user.UserOther.life_guanzhu_theme,e.input.proud=e.user.UserOther.life_proud_thing,e.input.cooking=e.user.UserOther.life_cooking,e.input.had_been=e.user.UserOther.life_go_space,e.input.work_place=e.user.UserOther.life_circle_work_place,e.input.life_place=e.user.UserOther.life_circle_life_place):s.autoHide(t.message)}),e.input.covers=[],e.$on("upload_cover_success",function(t,o){e.input.covers.push(o.message)}),e.remove_cover=function(t){e.input.covers=e.input.covers.filter(function(e){return t!=e})},e.$on("upload_avatar_success",function(t,o){e.input.avatar=o.message}),e.get_images=function(e){return e?e.split("#"):[]},e.get_tags=function(e){return e?e.split("#"):[]},e.genders=["女","男"];for(var c=145,l=[],p=0;60>p;p++)c++,l.push(c+"cm");e.heights=l,e.incomes=["5000元以下","5000-8000元","8000-10000元","10000-20000元","20000-30000元","30000-40000元","40000-50000元","50000元以上"],r.query_province().then(function(t){e.provinces=t.province,e.input.province=e.provinces[0]}),e.$watch("input.province",function(t){void 0!==t&&""!=t&&e.query_city(t)}),e.query_city=function(t){r.query_city().then(function(o){e.cities=o[t],e.input.city=e.cities[0]})},e.$watch("input.province_1",function(t){void 0!==t&&""!=t&&e.query_city_1(t)}),e.query_city_1=function(t){r.query_city().then(function(o){e.cities_1=o[t],e.input.city_1=e.cities[0]})},e.$watch("input.province_2",function(t){void 0!==t&&""!=t&&e.query_city_2(t)}),e.query_city_2=function(t){r.query_city().then(function(o){e.cities_2=o[t],e.input.city_2=e.cities[0]})},e.degrees=["初中以上","高中以上","中专以上","大专以上","本科以上","硕士以上","博士以上"],e.marrys=["未婚","已婚","离异","丧偶"],e.children=["没有","有，和我住一起","有，不和我住一起","有，有时和我住一起"],e.houses=["以后再告诉你","已购房(有房贷)","与父母同住","租房","已购房(无房贷)","住单位房","住亲朋家","需要时购置"],e.cars=["已购车","未购车","单位用车","需要时购置"];var g=20,_=[];_.push("20岁以下");for(var p=0;60>p;p+=2){var d=g+2;_.push(g+"-"+d+"岁"),g=d}_.push("80岁以上"),e.ages=_,e.input.height_1="",e.input.income_1="",e.input.province_1="",e.input.city_1="",e.input.degree_1="",e.input.child_1="",e.input.house_1="",e.input.province_2="",e.input.city_2="",e.nations=["汉","满族","藏族","回族","维吾尔族","苗族","壮族","朝鲜族","其他民族"],e.input.shuxing="",e.input.xinzuo="",e.bloods=["A型","B型","AB型","O型","其他"],e.bodys=["很瘦","较瘦","苗条","匀称","高挑","丰满","健壮","较胖","胖"];var m=40,h=[];h.push("40以下");for(var p=0;60>p;p+=2){var d=m+2;h.push(m+"-"+d+"公斤"),m=d}h.push("100公斤以上"),e.weights=h,e.scores=["1","2","3","4","5","6","7","8","9","10"],e.regions=["无神论","佛教","道教","基督教","天主教","儒教","犹太教","回教","伊斯兰教","其他"],e.smokes=["不吸，很反感","不吸，但不反感","社交时偶尔吸烟","烟不离手"],e.drinks=["不喝酒","社交需要喝","兴致时小酌","酒不离口"],e.input.school="",e.majors=["计算机类","电子信息类","中文类","经济学类","金融学类","管理类","市场营销类","法学类","教育类","社会学类","历史类","哲学类","艺术类","图书馆类","情报档案类","政治类","数学类","统计类","物理类","化学类","生物类","食品类","医学类","环境了类","地理类","建筑类","测绘类","电气类","机械类","其他"],e.positions=["计算机/互联网","电子电器/通讯技术","机械/仪表仪器","销售","客服及技术支持","财务/审计/税务","证券/金融/投资/银行","保险","生产/营运","质量/安全管理","工程/能源","贸易/采购","物流/仓储/运输","技工","化工/环保","生物/制药/医疗器械","广告","市场/公关","人力资源","行政/后勤","律师/法务/合规","科研","商业零售服务","其他"],e.company_natures=["政府机关","事业单位","外企企业","世界500强","上市公司","国有企业","私营企业","其他"],e.industries=["计算机/网络","科研/教育","公关/广告","传媒出版","营销/市场/策划","房地产/建筑业","装饰/装潢","其他"],e.work_statuses=["轻松稳定","朝九晚五","偶尔加班","经常加班","偶尔出差","经常出差","常有应酬","工作时间自由"],e.languages=["中文","英语","法语","日语","韩语","德语","意大利语","西班牙语","阿拉伯语","其他"],e.input.about_money,e.input.about_sex="",e.input.about_love="",e.input.marry_plan="",e.houseworks=["任劳任怨","希望对方承担家务","一起分工合作","看各自闲忙，协商分担"],e.babys=["想","不想","还没想好","视情况而定","其他"],e.live_with_parents=["愿意","不愿意","视情况而定"],e.input.couple="",e.input.alone_with="",e.input.yearing="",e.input.like_book="",e.input.like_film="",e.input.focus_topic="",e.input.proud="",e.cookings=["色香味俱全","能做几样可口的小菜","不太会，但愿为心爱的的人学","其他"],e.input.had_been="",e.input.work_place="",e.input.life_place="",e.input.offen_go="",e.input.company="",e.save=function(){i.show(),n.save_userinfo_1({sex:"男"==e.input.gender?"1":"0",birthday:t("date")(e.input.birthday,"yyyy-MM-dd"),province:e.input.province,city:e.input.city,height:e.input.height,edu:e.input.degree,marry:e.input.marry,is_has_child:e.input.child,buy_house:e.input.house,buy_car:e.input.car,job:e.input.job}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?s.autoHide(e.message):s.autoHide(e.message)}),n.save_userinfo_2({user_other_data_id:e.user.UserOther.user_other_data_id,dossier_hometown_province:e.input.province_2,dossier_hometown_city:e.input.city_2,dossier_nation:e.input.nation,dossier_shuxiang:e.input.shuxiang,dossier_xingzuo:e.input.xinzuo,dossier_xuexing:e.input.blood,dossier_tixing:e.input.body,dossier_tizhong:e.input.weight,dossier_xiangmao_zp:e.input.score,dossier_xiangmao_religion:e.input.region,dossier_smoke:e.input.smoke,dossier_drink:e.input.drink,edu_job_school:e.input.school,edu_job_profession:e.input.major,edu_job_zhiye_zhiwu:e.input.position,edu_job_nature_company:e.input.company_nature,edu_job_company_hangye:e.input.industry,edu_job_work_status:e.input.work_status,edu_job_master_language:e.input.language,attitude_money:e.input.about_money,attitude_sex:e.input.about_sex,attitude_shiye_love:e.input.about_love,love_marry_plan:e.input.marry_plan,love_home_work:e.input.housework,love_want_child:e.input.baby,love_want_fw_zhu:e.input.live_with_parent,love_spouse_pattern:e.input.couple,love_live_pattern:e.input.alone_with,life_xiangwang_thing:e.input.yearing,life_love_book:e.input.like_book,life_love_movie:e.input.like_film,life_love_music:e.input.like_music,life_guanzhu_theme:e.input.focus_topic,life_proud_thing:e.input.proud,life_cooking:e.input.cooking,life_go_space:e.input.had_been,life_circle_work_place:e.input.work_place,life_circle_life_place:e.input.life_place}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?s.autoHide(e.message):s.autoHide(e.message)}),n.save_userinfo_3({user_other_data_id:e.user.UserOther.user_other_data_id,choose_mate_age:e.input.age_1,choose_mate_heart:e.input.height_1,choose_mate_province:e.input.province_1,choose_mate_city:e.input.city_1,choose_mate_marry:e.input.marry,choose_mate_edu:e.input.degree_1,choose_mate_income:e.input.income_1,choose_mate_has_child:e.input.child_1,choose_mate_has_house:e.input.house_1}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?s.autoHide(e.message):s.autoHide(e.message)})},e.save=function(){n.save({}).then(function(e){i.hide(),e.code==u.request.SUCCESS&&e.status==u.response.SUCCESS?s.autoHide(e.message):s.autoHide(e.message)})}}]),angular.module("Love").controller("uploadCoversController",["$scope","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r){var s,i;e.$on("flow::filesSubmitted",function(e,t){t.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return i=e,e}),s=(new Date).getTime()+i,t.opts.target=r.url+"/app/UserCenter/updatePic",t.opts.testChunks=!1,t.opts.fileParameterName="image_01",t.opts.query={invoke:"h5",token:n.get("token"),filename:s},o.show(),t.upload()}),e.$on("flow::fileAdded",function(){}),e.$on("flow::fileSuccess",function(){e.$flow.files=[],e.$emit("upload_cover_success",{message:s}),o.hide()})}]),angular.module("Love").controller("uploadAvatarController",["$scope","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r){var s,i;e.$on("flow::filesSubmitted",function(e,t){t.files[0].name.replace(/.png|.jpg|.jpeg|.gif/g,function(e){return i=e,e}),s=(new Date).getTime()+i,t.opts.target=r.url+"/app/UserCenter/updatePic",t.opts.testChunks=!1,t.opts.fileParameterName="image_01",t.opts.query={invoke:"h5",token:n.get("token"),filename:s},o.show(),t.upload()}),e.$on("flow::fileAdded",function(){}),e.$on("flow::fileSuccess",function(){e.$flow.files=[],e.$emit("upload_avatar_success",{message:s}),o.hide()})}]),angular.module("Love").controller("authenController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){n.show(),t.query_userinfo({type:"1"}).then(function(t){n.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.user=t.Result.UserInfo:o.autoHide(t.message)})}]),angular.module("Love").controller("appointmentController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("appointment2SureController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){e.meettings=[],e.page={pn:1,page_size:5,message:"点击加载更多",yuehui_type:"2"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_meetting(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.meettings=e.meettings.concat(t.Result.Trysts.list),e.no_more=e.meettings.length==t.Result.Trysts.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.meettings.length+"条记录"),e.page.pn++}))},e.loadMore(),n.show(),t.query_report_info().then(function(t){n.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.report_info=t.Result.Constant:o.autoHide(t.message)}),e.modal={status:0},e.complaint="请联系官方客服，进行投诉维权",e.open_modal=function(t){e.report_meetting=t,e.modal.status=1},e.cancel_modal=function(){e.modal.status=0},e.confirm_modal=function(){n.show(),t.report({tryst_id:e.report_meetting.tryst_id,complainted_user_id:e.report_meetting.trysted_user_id}).then(function(t){n.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.modal.status=0,e.report_meetting="",o.autoHide(t.message)):o.autoHide(t.message)})}}]),angular.module("Love").controller("appointment2RefuseController",["$scope","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s){e.meettings=[],e.modalshow={},e.page={pn:1,page_size:5,message:"点击加载更多",yuehui_type:"3"},e.loadMore=function(){e.no_more||(n.show(),e.page.message="正在加载...",t.query_meetting(e.page).then(function(t){n.hide(),e.page.message="点击加载更多",t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.meettings=e.meettings.concat(t.Result.Trysts.list),e.no_more=e.meettings.length==t.Result.Trysts.totalRow?!0:!1):o.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.meettings.length+"条记录"),e.page.pn++}))},e.loadMore(),n.show(),t.query_report_info().then(function(t){n.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?e.report_info=t.Result.Constant:o.autoHide(t.message)}),e.modal={status:0},e.complaint="请联系官方客服，进行投诉维权",e.open_modal=function(t){e.report_meetting=t,e.modal.status=1},e.cancel_modal=function(){e.modal.status=0},e.confirm_modal=function(){n.show(),t.report({tryst_id:e.report_meetting.tryst_id,complainted_user_id:e.report_meetting.trysted_user_id}).then(function(t){n.hide(),t.code==s.request.SUCCESS&&t.status==s.response.SUCCESS?(e.modal.status=0,e.report_meetting="",o.autoHide(t.message)):o.autoHide(t.message)})},e.go=function(t){"1"==e.user.is_vip?$location.path("chat").search({id:t}):e.modal.status=1},e.confirm_modal=function(){$location.path("").search({})}}]),angular.module("Love").controller("appointment2Controller",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("appointment1SureController",["$scope","$location","userServices","errorServices","toastServices","localStorageService","config",function(e,t,o,n,r,s,i){e.meettings=[],e.page={pn:1,page_size:5,message:"点击加载更多",yuehui_type:"1"},e.loadMore=function(){e.no_more||(r.show(),e.page.message="正在加载...",o.query_meetting(e.page).then(function(t){r.hide(),e.page.message="点击加载更多",t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?(e.meettings=e.meettings.concat(t.Result.Trysts.list),e.no_more=e.meettings.length==t.Result.Trysts.totalRow?!0:!1):n.autoHide("服务器错误"),e.no_more&&(e.page.message="加载完成，共加载"+e.meettings.length+"条记录"),e.page.pn++}))},e.loadMore(),r.show(),o.query_report_info().then(function(t){r.hide(),t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?e.report_info=t.Result.Constant:n.autoHide(t.message)}),e.modal={status:0},e.complaint="请联系官方客服，进行投诉维权",e.open_modal=function(t,o){e.report_meetting=t,e.report_meetting_type=o,e.modal.status=1,"agree"==e.report_meetting_type&&(e.meetting_title="同意约会"),"reject"==e.report_meetting_type&&(e.meetting_title="拒绝约会")},e.reject=function(){r.show(),o.reject_meetting({tryst_id:e.report_meetting.tryst_id}).then(function(t){r.hide(),t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?(e.modal.status=0,e.report_meetting="",n.autoHide(t.message)):n.autoHide(t.message)})},e.agree=function(){r.show(),o.agree_meetting({tryst_id:e.report_meetting.tryst_id,complainted_user_id:e.report_meetting.trysted_user_id}).then(function(t){r.hide(),t.code==i.request.SUCCESS&&t.status==i.response.SUCCESS?(e.modal.status=0,e.report_meetting="",n.autoHide(t.message)):n.autoHide(t.message)})},e.cancel_modal=function(){e.modal.status=0},e.confirm_modal=function(){"agree"==e.report_meetting_type&&(e.meetting_title="同意约会",e.agree()),"reject"==e.report_meetting_type&&(e.meetting_title="拒绝约会",e.reject())}}]),angular.module("Love").controller("appointment1RefuseController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("appointment1Controller",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").controller("accountController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Love").directive("showOnLoaded",function(){return{link:function(e,t){var o=parseFloat(e.$eval($(t).parent().attr("data-rate")));$(t).css({visibility:"hidden"});var n="../images/default.png",r={display:"block",width:$(t).parent().width()||$(t).parent().parent().width(),overflow:"hidden","text-align":"center","background-image":"url("+n+")","background-size":"100%","background-position":"center center","line-height":($(t).parent().width()||$(t).parent().parent().width())/o+"px",height:($(t).parent().width()||$(t).parent().parent().width())/o};$(t).parent().css(r),t.bind("load",function(){if(console.log("loaded"),!o)return console.log("unexpect rate"),void 0;var e=$(t).width()/$(t).height();o>e?$(t).css({display:"inline-block",height:"100%",width:"auto"}):$(t).css({display:"inline-block",height:"auto",width:"100%"}),$(t).parent().css({background:"none"}),$(t).css({visibility:"visible"})})}}}),angular.module("Love").directive("imageview",function(){return{restrict:"AE",scope:{src:"="},template:"<img ng-src='{{src}}' show-on-loaded err-src='../images/banner.png'>",link:function(e,t){var o="../images/default.png",n=parseFloat(e.$eval($(t).attr("data-rate")));if(!n)return console.log("unexpect rate"),void 0;var r={display:"block",width:$(t).width()||$(t).parent().width(),overflow:"hidden","text-align":"center","background-image":"url("+o+")","background-size":"100%","background-position":"center center","line-height":($(t).width()||$(t).parent().width())/n+"px",height:($(t).width()||$(t).parent().width())/n};$(t).css(r),$(t).parent().css({overflow:"hidden"})}}}),angular.module("Love").directive("dribehanceHeader",function(){return{restrict:"E",templateUrl:"templates/header.html",scope:{title:"=",backAction:"="},link:function(){}}}),angular.module("Love").directive("dribehanceFooter",function(){return{restrict:"E",templateUrl:"templates/footer.html",scope:{active:"="},link:function(){}}}),angular.module("Love").directive("countdown",["$interval",function(e){return{restrict:"E",scope:{countdown:"=",disabled:"=countdownDisabled"},link:function(t,o){function n(){var o=t.countdown.message,n=parseFloat(t.countdown.count)?parseFloat(t.countdown.count):60;r=!0,t.$apply(function(){t.countdown.message=n--,t.countdown.message=n+"s重新获取",t.countdown.mode="disabled",t.countdown.reset=!1,t.countdown.callback()});var s=e(function(){t.countdown.message=n--,t.countdown.message=n+"s重新获取",(0>n||t.countdown.reset)&&(e.cancel(s),t.countdown.message=o,r=!1)},1e3)}var r=!1;$(o).bind("click",function(){t.disabled||r||n()})}}}]),angular.module("Love").constant("config",{url:"http://www.yunzongdianzi.com",imageUrl:"http://www.yunzongdianzi.com/files/image?name=",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{invoke:"h5",app_sign:"123456"},weixin:{base_url:"https://open.weixin.qq.com/connect/oauth2/authorize",access_token_url:"https://api.weixin.qq.com/sns/oauth2/access_token",userinfo_url:"https://api.weixin.qq.com/sns/userinfo",appid:"wx24cc097bb3db1ce3",secret:"b029f342a2e50a9a081a3d450424e71f",redirect_uri:"http://www.yunzongdianzi.com/oauth",payment_redirect_uri:"http://www.yunzongdianzi.com/mobile/#/payment",response_type:"code",silence_scope:"snsapi_base",scope:"snsapi_userinfo",state:"weixin",wechat_redirect:"#wechat_redirect"},share:{},interceptor:["account","appointment","appointment1","appointment2","authen","basic","chat","create_appointment","index","lovers","manual_authen","mating","member","member1","member2","messages","message","mylove","phone_authen","realname_authen","payment","search","services","signin","signup","single","search_conditional","send_messages","oauth","appointment1_refuse","appointment1_sure","appointment2_refuse","appointment2_sure","detail","charge","me","ta","tags","withdrawals","recommendation","visitors","show"]});
//# sourceMappingURL=app.min.js.map
